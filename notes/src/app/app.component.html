<ng-template #loggedOut>
  <a class="pill" target="_blank" (click)="loginUnknowed()" rel="noopener">
    <span>Login Anonimo</span>
    <svg xmlns="http://www.w3.org/2000/svg" height="14" viewBox="0 -960 960 960" width="14" fill="currentColor">
      <path d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h280v80H200v560h560v-280h80v280q0 33-23.5 56.5T760-120H200Zm188-212-56-56 372-372H560v-80h280v280h-80v-144L388-332Z"/>
    </svg>
  </a>

  <a class="pill" target="_blank" (click)="loginGoogle()" rel="noopener">
    <span>Login Google</span>
    <svg xmlns="http://www.w3.org/2000/svg" height="14" viewBox="0 -960 960 960" width="14" fill="currentColor">
      <path d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h280v80H200v560h560v-280h80v280q0 33-23.5 56.5T760-120H200Zm188-212-56-56 372-372H560v-80h280v280h-80v-144L388-332Z"/>
    </svg>
  </a>
</ng-template>

<div *ngIf="user$ | async as user; else loggedOut">
  <p>Welcome, {{ user.displayName }}!</p>
  <a class="pill" target="_blank"  #loggedOut (click)="logout()" rel="noopener">
    <span>Logout</span>
    <svg xmlns="http://www.w3.org/2000/svg" height="14" viewBox="0 -960 960 960" width="14" fill="currentColor">
      <path d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h280v80H200v560h560v-280h80v280q0 33-23.5 56.5T760-120H200Zm188-212-56-56 372-372H560v-80h280v280h-80v-144L388-332Z"/>
    </svg>
  </a>
</div>

<div>
  <input [(ngModel)]="message" placeholder="Type a message">
  <button (click)="sendMessage()">Send</button>
</div>

<div *ngFor="let note of notes">
  <div style="margin: 1rem;background-color: #eee;display: inline-block; border-radius: 1rem;padding: 1rem">
    <p>ID: {{ note.id }}</p>
    <p>Persona: {{ note.uid }}</p>
    <p>Propriet√†: {{ note.text }}</p>
    <button (click)="deleteNote(note.id)">Elimina</button>
  </div>
</div>
